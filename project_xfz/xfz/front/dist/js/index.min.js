function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){var n=this;n.page=2,n.category_id=0,n.loadBtn=$("#load-more-btn")}Banner.prototype.initBanner=function(){var n=this,t=n.liList.eq(0).clone(),e=n.liList.eq(n.bannerCount-1).clone();n.bannerUl.append(t),n.bannerUl.prepend(e),this.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=this,t=0;t<n.bannerCount;t++){var e=$("<li></li>");n.pageControl.append(e),0===t&&e.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.animate=function(){var n=this;this.bannerUl.stop().animate({left:-798*n.index},500);var t=n.index;t=0===t?n.bannerCount-1:t===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(t).addClass("active").siblings().removeClass("active")},Banner.prototype.toggleArrow=function(n){var t=this;n?(t.leftArrow.show(),t.rightArrow.show()):(t.leftArrow.hide(),t.rightArrow.hide())},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index+=1,n.animate()},2e3)},Banner.prototype.listenArrowclick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerCount*n.bannerWidth}),n.index=n.bannerCount-1):n.index-=1,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index+=1,n.animate()})},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){e.index=n,e.animate()})})},Banner.prototype.run=function(){console.log("run.............."),this.initBanner(),this.initPageControl(),this.loop(),this.listenArrowclick(),this.listenPageControl(),this.listenBannerHover()},Index.prototype.listenLoadMoreEvent=function(){var i=this,r=$("#load-more-btn");r.click(function(){xfzajax.get({url:"news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=template("news-items",{newses:t});$(".list-inner-group").append(e),i.page+=1}else r.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var a=this;$(".list-tab").children().click(function(){var r=$(this),o=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{category_id:o,p:1},success:function(n){if(200===n.code){var t=n.data,e=template("news-items",{newses:t}),i=$("#list-inner-group1");i.empty(),i.append(e),a.page=2,a.category_id=o,r.addClass("active").siblings().removeClass("active"),a.loadBtn.show()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJzZWxmIiwicGFnZSIsImNhdGVnb3J5X2lkIiwibG9hZEJ0biIsInByb3RvdHlwZSIsImluaXRCYW5uZXIiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsImFuaW1hdGUiLCJzdG9wIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsb29wIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImxpc3RlbkFycm93Y2xpY2siLCJjbGljayIsImxpc3RlbkJhbm5lckhvdmVyIiwiaG92ZXIiLCJjbGVhckludGVydmFsIiwibGlzdGVuUGFnZUNvbnRyb2wiLCJlYWNoIiwib2JqIiwicnVuIiwiY29uc29sZSIsImxvZyIsImxpc3RlbkxvYWRNb3JlRXZlbnQiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInAiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3c2VzIiwidHBsIiwidGVtcGxhdGUiLCJsaXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50IiwibGkiLCJhdHRyIiwiZ3JvdXAxIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQW9CQSxTQUFTQSxTQUNMQyxLQUFLQyxZQUFjLElBQ25CRCxLQUFLRSxZQUFjQyxFQUFFLGlCQUNyQkgsS0FBS0ksTUFBUSxFQUNiSixLQUFLSyxVQUFZRixFQUFFLGVBQ25CSCxLQUFLTSxX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Q2QsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFTRCxFQUFhLEtBQ3RCRSxFQUFNQyxTQUFTLGFBQWEsQ0FBQ0YsT0FBU0EsSUFFdENNLEVBQVNsRSxFQUFFLHNCQUNma0UsRUFBT0MsUUFDUEQsRUFBTzdDLE9BQU93QyxHQUNkbEQsRUFBS0MsS0FBTyxFQUNaRCxFQUFLRSxZQUFjQSxFQUNuQm1ELEVBQUduQyxTQUFTLFVBQVVHLFdBQVdDLFlBQVksVUFDN0N0QixFQUFLRyxRQUFRc0IsY0FPckMxQixNQUFNSyxVQUFVa0MsSUFBTSxXQUNQcEQsS0FDTnVELHNCQURNdkQsS0FFTmtFLDZCQUdUL0QsRUFBRSxZQUNjLElBQUlKLFFBQ1ZxRCxPQUNLLElBQUl2QyxPQUNWdUMiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/pnaLlkJHlr7nosaHnmoTmgJ3mg7NcclxuLy/mt7vliqDlsZ7mgKfvvJrpgJrov4d0aGlz5YWz6ZSu5a2X77yM57uR5a6a5bGe5oCn77yM5bm25LiU5oyH5a6a5LuW55qE5YC8XHJcbi8v5Y6f5Z6L6ZO+XHJcbi8v5ZyoQmFubmVyLnByb3RvdHlwZeS4iue7keWumuaWueazleWwseWPr+S7peS6hlxyXG5cclxuLy8gZnVuY3Rpb24gQmFubmVyKCkge1xyXG4vLyAgICAgLy/ov5nkuKpCYW5uZXLooqvorqTkuLrmmK/nsbvvvIzkuZ/lj6/ku6XooqvorqTkuLrmmK/mnoTpgKDlh73mlbBcclxuLy8gICAgIC8v6L+Z5Liq6YeM6Z2i5YaZ55qE5Luj56CB55u45b2T5LqOcHl0aG9u5Lit55qEX19pbml0X1/mlrnms5XnmoTku6PnoIFcclxuLy8gICAgIGNvbnNvbGUubG9nKCfmnoTpgKDlh73mlbAnKTtcclxuLy8gICAgIHRoaXMucGVyc29uID0gXCJ6aGlsaWFvXCI7XHJcbi8vIH1cclxuLy9cclxuLy8gQmFubmVyLnByb3RvdHlwZS5ncmVldD1mdW5jdGlvbiAod29yZCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIix3b3JkKTtcclxuLy8gfTtcclxuLy9cclxuLy8gdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcclxuLy8gY29uc29sZS5sb2coYmFubmVyLnBlcnNvbik7XHJcbi8vIGJhbm5lci5ncmVldChcInRpYW54aWFcIik7XHJcblxyXG5mdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk4O1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoXCIjYmFubmVyLWdyb3VwXCIpO1xyXG4gICAgdGhpcy5pbmRleCA9IDE7XHJcbiAgICB0aGlzLmxlZnRBcnJvdyA9ICQoXCIubGVmdC1hcnJvd1wiKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoXCIucmlnaHQtYXJyb3dcIik7XHJcbiAgICB0aGlzLmJhbm5lclVsID0gJChcIiNiYW5uZXItdWxcIik7XHJcbiAgICB0aGlzLmxpTGlzdCA9IHRoaXMuYmFubmVyVWwuY2hpbGRyZW4oXCJsaVwiKTtcclxuICAgIHRoaXMuYmFubmVyQ291bnQgPSB0aGlzLmxpTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJChcIi5wYWdlLWNvbnRyb2xcIik7XHJcbn1cclxuXHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdEJhbm5lciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZmlyc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcShzZWxmLmJhbm5lckNvdW50LTEpLmNsb25lKCk7XHJcbiAgICBzZWxmLmJhbm5lclVsLmFwcGVuZChmaXJzdEJhbm5lcik7XHJcbiAgICBzZWxmLmJhbm5lclVsLnByZXBlbmQobGFzdEJhbm5lcik7XHJcbiAgICB0aGlzLmJhbm5lclVsLmNzcyh7XCJ3aWR0aFwiOnNlbGYuYmFubmVyV2lkdGgqKHNlbGYuYmFubmVyQ291bnQrMiksJ2xlZnQnOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRQYWdlQ29udHJvbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBmb3IgKHZhciBpID0wO2k8c2VsZi5iYW5uZXJDb3VudDtpKyspe1xyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpO1xyXG4gICAgICAgIHNlbGYucGFnZUNvbnRyb2wuYXBwZW5kKGNpcmNsZSk7XHJcbiAgICAgICAgaWYgKGkgPT09IDApe1xyXG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jc3Moe1wid2lkdGhcIjpzZWxmLmJhbm5lckNvdW50KjEyKzgqMisxNiooc2VsZi5iYW5uZXJDb3VudC0xKX0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmJhbm5lclVsLnN0b3AoKS5hbmltYXRlKHtcImxlZnRcIjotNzk4KnNlbGYuaW5kZXh9LDUwMCk7XHJcbiAgICB2YXIgaW5kZXggPSBzZWxmLmluZGV4O1xyXG4gICAgaWYgKGluZGV4ID09PSAwICl7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmJhbm5lckNvdW50LTE7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCsxKXtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpbmRleCA9IHNlbGYuaW5kZXggLSAxO1xyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbignbGknKS5lcShpbmRleCkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLnRvZ2dsZUFycm93ID0gZnVuY3Rpb24oaXNTaG93KXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmIChpc1Nob3cpe1xyXG4gICAgICAgIC8vICQoJy5sZWZ0LWFycm93Jykuc2hvdygpO1xyXG4gICAgICAgIC8vICQoJy5yaWdodC1hcnJvdycpLnNob3coKTtcclxuICAgICAgICBzZWxmLmxlZnRBcnJvdy5zaG93KCk7XHJcbiAgICAgICAgc2VsZi5yaWdodEFycm93LnNob3coKTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIC8vICQoJy5sZWZ0LWFycm93JykuaGlkZSgpO1xyXG4gICAgICAgIC8vICQoJy5yaWdodC1hcnJvdycpLmhpZGUoKTtcclxuICAgICAgICBzZWxmLmxlZnRBcnJvdy5oaWRlKCk7XHJcbiAgICAgICAgc2VsZi5yaWdodEFycm93LmhpZGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleD49c2VsZi5iYW5uZXJDb3VudCsxKXtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kz0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKTtcclxuICAgIH0sMjAwMCk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkFycm93Y2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgIHNlbGYubGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIGlmIChzZWxmLmluZGV4PT09MCl7XHJcbiAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOi1zZWxmLmJhbm5lckNvdW50KnNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICBzZWxmLmluZGV4ID0gc2VsZi5iYW5uZXJDb3VudCAtIDE7XHJcbiAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICBzZWxmLmluZGV4LT0xO1xyXG4gICAgICAgfVxyXG4gICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgIH0pO1xyXG4gICBzZWxmLnJpZ2h0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZihzZWxmLmluZGV4PT09c2VsZi5iYW5uZXJDb3VudCsxKXtcclxuICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjotc2VsZi5iYW5uZXJXaWR0aH0pO1xyXG4gICAgICAgICAgc2VsZi5pbmRleCA9IDI7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICAgIHNlbGYuaW5kZXgrPTE7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5CYW5uZXJIb3ZlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+esrOS4gOS4quWHveaVsOaYryzmiorpvKDmoIfnp7vliqjliLBiYW5uZXLkuIrkvJrmiafooYznmoTlh73mlbBcclxuICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3codHJ1ZSk7XHJcbiAgICB9LGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+esrOS6jOS4quWHveaVsOaYryzmiorpvKDmoIfku45iYW5uZXLkuIrnp7votbDkvJrmiafooYznmoTlh73mlbBcclxuICAgICAgICBzZWxmLmxvb3AoKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5QYWdlQ29udHJvbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsb2JqKSB7XHJcbiAgICAgICAgJChvYmopLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICBzZWxmLmFuaW1hdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInJ1bi4uLi4uLi4uLi4uLi4uXCIpO1xyXG4gICAgdGhpcy5pbml0QmFubmVyKCk7XHJcbiAgICB0aGlzLmluaXRQYWdlQ29udHJvbCgpO1xyXG4gICAgdGhpcy5sb29wKCk7XHJcbiAgICB0aGlzLmxpc3RlbkFycm93Y2xpY2soKTtcclxuICAgIHRoaXMubGlzdGVuUGFnZUNvbnRyb2woKTtcclxuICAgIHRoaXMubGlzdGVuQmFubmVySG92ZXIoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIEluZGV4KCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2UgPSAyO1xyXG4gICAgc2VsZi5jYXRlZ29yeV9pZCA9IDA7XHJcbiAgICBzZWxmLmxvYWRCdG4gPSAkKFwiI2xvYWQtbW9yZS1idG5cIik7XHJcblxyXG5cclxufVxyXG5cclxuSW5kZXgucHJvdG90eXBlLmxpc3RlbkxvYWRNb3JlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGxvYWRCdG4gPSAkKFwiI2xvYWQtbW9yZS1idG5cIik7XHJcbiAgICBsb2FkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAndXJsJzonbmV3cy9saXN0LycsXHJcbiAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICdwJzpzZWxmLnBhZ2UsXHJcbiAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IHNlbGYuY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgfSxcclxuICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICB2YXIgbmV3c2VzID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICBpZiAobmV3c2VzLmxlbmd0aCA+IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1zXCIse1wibmV3c2VzXCI6bmV3c2VzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgbG9hZEJ0bi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkluZGV4LnByb3RvdHlwZS5saXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgdGFiR3JvdXAgPSAkKFwiLmxpc3QtdGFiXCIpO1xyXG4gICAgICB0YWJHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgLy90aGlzOuS7o+ihqOW9k+WJjemAieS4reeahOi/meS4qmxp5qCH562+XHJcbiAgICAgICAgICB2YXIgbGkgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gbGkuYXR0cihcImRhdGEtY2F0ZWdvcnlcIik7XHJcbiAgICAgICAgICB2YXIgcGFnZSA9IDE7XHJcbiAgICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICAgJ3VybCc6Jy9uZXdzL2xpc3QvJyxcclxuICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgJ2NhdGVnb3J5X2lkJzpjYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgICAgICAgJ3AnOnBhZ2VcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3cy1pdGVtc1wiLHtcIm5ld3Nlc1wiOm5ld3Nlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VtcHR5OuWPr+S7peWwhui/meS4quagh+etvuS4i+eahOaJgOacieWtkOWFg+e0oOmDveWIoOaOiVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXAxID0gJChcIiNsaXN0LWlubmVyLWdyb3VwMVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAxLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwMS5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ29yeV9pZCA9IGNhdGVnb3J5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ0bi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxufTtcclxuXHJcbkluZGV4LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5Mb2FkTW9yZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xyXG4gICBiYW5uZXIucnVuKCk7XHJcbiAgIHZhciBpbmRleCA9IG5ldyBJbmRleCgpO1xyXG4gICBpbmRleC5ydW4oKTtcclxufSk7Il19

function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("dvplayer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"e9f21b916c6f4d4396d5b1eb450df4a4"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksWUFBWUMsTUFBTSxDQUNuQ0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBb0JaYixFQUFPYyxHQUFHLGFBQWEsU0FBVUMsR0FDekIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbEJZLFFBQVFDLElBQUksQ0FDUkMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTekIsRUFDVEcsVUFBYUEsR0FFakJ1QixRQUFXLFNBQVVDLEdBQ2pCLEdBQXNCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdEIsSUFBSUMsRUFBUUQsRUFBYSxLQUFTLE1BQ2xDdkIsRUFBT3lCLFNBQVNWLEVBQUVWLEtBQUttQixRQUV2QkUsT0FBT0MsV0FBV0MsU0FBU0wsRUFBZ0IsU0FDM0N2QixFQUFPNkIsUUFHZkMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQU01QnhDLGFBQWFDLFVBQVUwQyxJQUFNLFdBQ3pCQyxLQUFLMUMsY0FHVEUsRUFBRSxZQUNxQixJQUFJSixjQUNWMkMiLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcbiAgICBcclxufVxyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciB2aWRlb0luZm9TcGFuID0gJChcIiN2aWRlby1pbmZvXCIpO1xyXG4gICAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtdmlkZW8tdXJsXCIpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtY292ZXItdXJsXCIpO1xyXG4gICAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcclxuXHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJkdnBsYXllclwiKS5zZXR1cCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICBmaWxlOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIHN0cmV0Y2hpbmc6IFwidW5pZm9ybVwiLFxyXG4gICAgICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICAgICAgY29udHJvbHM6IHRydWUsXHJcbiAgICAgICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgICAgIGFrOiAnZTlmMjFiOTE2YzZmNGQ0Mzk2ZDViMWViNDUwZGY0YTQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgLy8gdmFyIHZpZGVvSW5mb1NwYW4gPSAkKFwiI3ZpZGVvLWluZm9cIik7XHJcbiAgICAvLyB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIC8vIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtY292ZXItaW5mb1wiKTtcclxuICAgIC8vIHZhciBwbGF5ZXIgPSBjeWJlcnBsYXllcihcInBsYXllcmNvbnRhaW5lclwiKS5zZXR1cCh7XHJcbiAgICAvLyAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAvLyAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgLy8gICAgICAgICBmaWxlOiB2aWRlb191cmwsXHJcbiAgICAvLyAgICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAvLyAgICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgIHN0cmV0Y2hpbmc6IFwidW5pZm9ybVwiLFxyXG4gICAgLy8gICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgIC8vICAgICAgICAgY29udHJvbHM6IHRydWUsXHJcbiAgICAvLyAgICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAvLyAgICAgICAgIGFrOiAnZTlmMjFiOTE2YzZmNGQ0Mzk2ZDViMWViNDUwZGY0YTQnXHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JyxmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmKCEvbTN1OC8udGVzdChlLmZpbGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2NvdXJzZS9jb3Vyc2VfdG9rZW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgICAgICAnY291cnNlX2lkJzogY291cnNlX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSx0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KTsiXX0=
